<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JavaScript Standards & Best Practices</title>
    <meta name="description" content="JavaScript standards, component patterns, accessibility, and best practices." />
    <link rel="icon" href="/images/favicon.png" type="image/x-icon" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="/src/styles/main.scss" />
  </head>
  <body class="docs-page">
    <div id="page" class="site-page">
      <nav class="docs-nav">
        <div class="docs-nav__container">
          <div class="docs-nav__links">
            <a href="/pages/html.html" class="docs-nav__link">HTML</a>
            <a href="/pages/css.html" class="docs-nav__link">CSS</a>
            <a href="/pages/javascript.html" class="docs-nav__link docs-nav__link--active">JavaScript</a>
            <a href="/pages/php.html" class="docs-nav__link">PHP</a>
            <a href="/pages/wordpress.html" class="docs-nav__link">WordPress</a>
            <a href="/pages/components.html" class="docs-nav__link">Components</a>
            <a href="/pages/workflow.html" class="docs-nav__link">Workflow</a>
          </div>
        </div>
      </nav>

      <section class="docs-section">
        <div class="docs-section__container">
          <div class="docs-section__header">
            <span class="docs-section__badge">JavaScript</span>
            <h2 class="docs-section__title">JavaScript Standards & Patterns</h2>
            <p class="docs-section__description">Component patterns, accessibility, keyboard support, and best practices.</p>
          </div>
          <div class="docs-section__content">
            <div class="docs-card">
              <button class="docs-card__header" type="button" aria-expanded="true" aria-controls="card-component-pattern">
                <h3 class="docs-card__title">Component Pattern</h3>
                <span class="docs-card__icon" aria-hidden="true">▼</span>
              </button>
              <div class="docs-card__body" id="card-component-pattern">
                <p class="docs-card__text">
                  Use data-attributes for component initialization. Don't bind to DOM structure.
                </p>
                <div class="docs-code-example">
                  <div class="docs-code-example__header">
                    <span class="docs-code-example__title">Example: Modal Component</span>
                    <button class="docs-code-example__copy" aria-label="Copy code">Copy</button>
                  </div>
                  <pre class="docs-code-example__code"><code>// modal.js
class Modal {
  constructor(element) {
    this.modal = element;
    this.trigger = document.querySelector(
      `[data-modal-trigger="${element.id}"]`
    );
    this.closeBtn = element.querySelector('[data-modal-close]');
    this.overlay = element.querySelector('.modal__overlay');
    this.previousFocus = null;
    
    this.init();
  }
  
  init() {
    if (this.trigger) {
      this.trigger.addEventListener('click', () => this.open());
    }
    
    if (this.closeBtn) {
      this.closeBtn.addEventListener('click', () => this.close());
    }
    
    if (this.overlay) {
      this.overlay.addEventListener('click', () => this.close());
    }
    
    // Keyboard support
    this.modal.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') this.close();
      if (e.key === 'Tab') this.trapFocus(e);
    });
  }
  
  open() {
    this.previousFocus = document.activeElement;
    this.modal.hidden = false;
    this.modal.setAttribute('aria-hidden', 'false');
    document.body.style.overflow = 'hidden';
    
    // Focus first focusable element
    const firstFocusable = this.modal.querySelector(
      'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'
    );
    if (firstFocusable) firstFocusable.focus();
  }
  
  close() {
    this.modal.hidden = true;
    this.modal.setAttribute('aria-hidden', 'true');
    document.body.style.overflow = '';
    
    // Return focus
    if (this.previousFocus) this.previousFocus.focus();
  }
  
  trapFocus(e) {
    const focusableElements = this.modal.querySelectorAll(
      'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'
    );
    const firstElement = focusableElements[0];
    const lastElement = focusableElements[focusableElements.length - 1];
    
    if (e.shiftKey && document.activeElement === firstElement) {
      e.preventDefault();
      lastElement.focus();
    } else if (!e.shiftKey && document.activeElement === lastElement) {
      e.preventDefault();
      firstElement.focus();
    }
  }
}

// Initialize all modals
document.querySelectorAll('[data-modal]').forEach(modal => {
  new Modal(modal);
});</code></pre>
                </div>
              </div>
            </div>

            <div class="docs-card">
              <button class="docs-card__header" type="button" aria-expanded="false" aria-controls="card-tabs-component">
                <h3 class="docs-card__title">Tabs Component</h3>
                <span class="docs-card__icon" aria-hidden="true">▼</span>
              </button>
              <div class="docs-card__body" id="card-tabs-component" hidden>
                <p class="docs-card__text">
                  Accessible tabs with keyboard navigation and ARIA attributes.
                </p>
                <div class="docs-code-example">
                  <div class="docs-code-example__header">
                    <span class="docs-code-example__title">Example: Tabs Component</span>
                    <button class="docs-code-example__copy" aria-label="Copy code">Copy</button>
                  </div>
                  <pre class="docs-code-example__code"><code>// tabs.js
class Tabs {
  constructor(container) {
    this.container = container;
    this.tabs = container.querySelectorAll('[role="tab"]');
    this.panels = container.querySelectorAll('[role="tabpanel"]');
    
    this.init();
  }
  
  init() {
    this.tabs.forEach((tab, index) => {
      tab.addEventListener('click', () => this.activateTab(index));
      tab.addEventListener('keydown', (e) => this.handleKeyDown(e, index));
    });
  }
  
  activateTab(index) {
    // Update tabs
    this.tabs.forEach((tab, i) => {
      const isSelected = i === index;
      tab.setAttribute('aria-selected', isSelected);
      tab.setAttribute('tabindex', isSelected ? '0' : '-1');
      tab.classList.toggle('tabs__button--active', isSelected);
    });
    
    // Update panels
    this.panels.forEach((panel, i) => {
      panel.hidden = i !== index;
      panel.setAttribute('aria-hidden', i !== index);
    });
    
    this.tabs[index].focus();
  }
  
  handleKeyDown(e, index) {
    let targetIndex = index;
    
    switch(e.key) {
      case 'ArrowRight':
        targetIndex = (index + 1) % this.tabs.length;
        break;
      case 'ArrowLeft':
        targetIndex = (index - 1 + this.tabs.length) % this.tabs.length;
        break;
      case 'Home':
        targetIndex = 0;
        break;
      case 'End':
        targetIndex = this.tabs.length - 1;
        break;
      default:
        return;
    }
    
    e.preventDefault();
    this.activateTab(targetIndex);
  }
}

// HTML Structure
&lt;div class="tabs" data-tabs&gt;
  &lt;div class="tabs__nav" role="tablist"&gt;
    &lt;button 
      role="tab" 
      aria-selected="true" 
      aria-controls="panel-1"
      id="tab-1"
      tabindex="0"
      class="tabs__button tabs__button--active"
    &gt;
      Tab 1
    &lt;/button&gt;
    &lt;button 
      role="tab" 
      aria-selected="false" 
      aria-controls="panel-2"
      id="tab-2"
      tabindex="-1"
      class="tabs__button"
    &gt;
      Tab 2
    &lt;/button&gt;
  &lt;/div&gt;
  &lt;div class="tabs__content"&gt;
    &lt;div 
      role="tabpanel" 
      id="panel-1" 
      aria-labelledby="tab-1"
      class="tabs__panel"
    &gt;
      Content 1
    &lt;/div&gt;
    &lt;div 
      role="tabpanel" 
      id="panel-2" 
      aria-labelledby="tab-2"
      class="tabs__panel"
      hidden
    &gt;
      Content 2
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;</code></pre>
                </div>
              </div>
            </div>

            <div class="docs-card">
              <button class="docs-card__header" type="button" aria-expanded="false" aria-controls="card-js-best-practices">
                <h3 class="docs-card__title">JavaScript Best Practices</h3>
                <span class="docs-card__icon" aria-hidden="true">▼</span>
              </button>
              <div class="docs-card__body" id="card-js-best-practices" hidden>
                <ul class="docs-list">
                  <li class="docs-list__item">
                    <span class="docs-list__icon">✓</span>
                    <span>Always use <code>const</code> or <code>let</code>, never <code>var</code></span>
                  </li>
                  <li class="docs-list__item">
                    <span class="docs-list__icon">✓</span>
                    <span>Use arrow functions for callbacks</span>
                  </li>
                  <li class="docs-list__item">
                    <span class="docs-list__icon">✓</span>
                    <span>Remove event listeners when components are destroyed</span>
                  </li>
                  <li class="docs-list__item">
                    <span class="docs-list__icon">✓</span>
                    <span>Use <code>querySelector</code> with data-attributes, not classes</span>
                  </li>
                  <li class="docs-list__item">
                    <span class="docs-list__icon">✓</span>
                    <span>Always handle errors with try/catch</span>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </section>

    </div>

    <script type="module" src="/src/scripts/main.ts" defer></script>
    <script src="/pages/shared-scripts.js"></script>
  </body>
</html>

